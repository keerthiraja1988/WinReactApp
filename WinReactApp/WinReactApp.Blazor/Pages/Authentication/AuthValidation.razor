@page "/AuthValidation"

@inject IJSRuntime _jsRuntime
@inject TokenAuthenticationStateProvider _authenticationStateProvider

<AuthorizeView>
    <Authorized>
        <h3>User Name : @context.User.Identity.Name !</h3>

        @if (@context.User.Claims.Count() > 0)
        {
            <table class="table">
                @foreach (var claim in @context.User.Claims)
                {
                    <tr>
                        <td>@claim.Type</td>
                        <td>@claim.Value</td>
                    </tr>
                }
            </table>
        }
    </Authorized>
</AuthorizeView>

@code {

    protected override async Task OnInitializedAsync()
    {
        await this._authenticationStateProvider.ValidateUserAuthenticationForPageAsync();
        await this._authenticationStateProvider.GetUserClaimsAsync();
    }
}